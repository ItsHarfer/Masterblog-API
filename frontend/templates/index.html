<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Posts</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/styles.css">
</head>
<body>

    <div class="container">
        <div class="section-header" style="margin-bottom: 40px;">
            <h1>üìö Masterblog API</h1>
            <p>A simple blog app built with Flask and React.</p>
        </div>
        <div id="app-content">
            <div class="top-bar">
                <div class="section-block">
                    <div class="section-header">
                        <h2>üîó API Connection</h2>
                        <p class="section-description">Enter your API base URL on the bottom of this card in the textarea. <br><br>Whether hosted locally or deployed remotely, the app will connect and fetch your blog posts reliably.</p>
                    </div>
                    <div class="input-field">
                        <label for="api-base-url">URL:</label>
                        <textarea id="api-base-url" placeholder="http://127.0.0.1:5002/api"></textarea>
                        <button class="btn" onclick="loadPosts()">Load</button>
                    </div>
                </div>

                <div class="section-block">
                    <div class="section-header">
                        <h2>üîç Search & Sort</h2>
                        <p class="section-description">Search blog posts by keyword and sort them by title, date, or author.</p>
                    </div>
                    <div class="input-row">
                        <input type="text" id="search-term" placeholder="Search...">
                        <label for="sort-field">Sort by:</label>
                        <select id="sort-field" class="styled-select">
                            <option value="date">Date</option>
                            <option value="title">Title</option>
                            <option value="author">Author</option>
                            <option value="content">Content</option>
                        </select>
                        <label for="sort-direction">Direction:</label>
                        <select id="sort-direction" class="styled-select">
                            <option value="asc">‚Üë Asc</option>
                            <option value="desc">‚Üì Desc</option>
                        </select>
                        <button class="btn" onclick="searchPosts()">Search</button>
                    </div>
                </div>

                <div class="section-block">
                    <div class="section-header">
                        <h2>üìù Add Post</h2>
                        <p class="section-description">Create a new blog post by providing a title and content.</p>
                    </div>
                    <div class="input-field">
                        <input type="text" id="post-title" placeholder="Title">
                        <input type="text" id="post-author" placeholder="Author">
                        <textarea type="text" id="post-content" placeholder="Content"></textarea>
                        <button class="btn" onclick="addPost()">Add</button>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìö Blog Posts</h2>
                <div id="post-container"></div>
            </div>
        </div>
        <div id="connection-warning" style="display: none; color: red; margin-top: 20px;">
            ‚ö†Ô∏è Could not connect to the backend API.
        </div>


    </div>
    <div id="toast" class="toast">Post successfully added!</div>
    <script src="static/main.js"></script>
</body>
</html>
